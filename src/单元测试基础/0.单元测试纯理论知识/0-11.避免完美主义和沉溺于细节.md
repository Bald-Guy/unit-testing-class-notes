# 测试知识地图
## 基于功能来写测试
### input
    1. 直接: 通过参数的形式传入
    2. 间接: 通过 stub 测试替身技术
### output
    1. 直接: 直接返回值
    2. 间接
       1. 改变了系统的状态 ——> 状态验证
       2. 系统间的通信 ——> 行为验证 ——> 通过 mock 测试替身技术

## 不知道验证哪些功能

原因是因为测试之路上的两个绊脚石

### 完美主义

纠结测试用例的完备性, 试图覆盖所有可能的情况
```typescript
// url http
// url https
// url ""
// url "sdfg"
// url "123"
// url  
export function isHttp(url: string): boolean {
    const pattern = /^http:\/\/www\./;
    return pattern.test(url);
}
```

### 视角问题

过度关注某个函数, 而忽略了功能的目的

## 解决药方

小步走，逐步完善

用到什么功能，就去写什么功能的功能测试

### 为什么手动测试的时候不会纠结，而写自动化测试代码的时候会纠结？

手动测试的时候关注的是整体

手动测试的时候关注的是功能本身，而不是函数。